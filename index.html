<!DOCTYPE html>
<html class="wide wow-animation" lang="en">

<head>
  <title>Home</title>
  <meta name="format-detection" content="telephone=no">
  <meta name="viewport"
    content="width=device-width height=device-height initial-scale=1.0 maximum-scale=1.0 user-scalable=0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="utf-8">
  <link rel="icon" href="images/diondefinitivobranco.png" type="images/diondefinitivobranco.png">
  <link rel="stylesheet" type="text/css"
    href="//fonts.googleapis.com/css?family=Work+Sans:300,400,500,700,800%7CPoppins:300,400,700">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/fonts.css">
  <link rel="stylesheet" href="css/style.css" id="main-styles-link">
  <link rel="stylesheet" href="css/index.css" id="main-styles-link">
  <link rel="stylesheet" href="backend/favoritos.php" id="main-styles-link">

</head>

<body>
  <!-- Novo painel superior -->
  <div class="top-panel">
    <!-- Menu hambúrguer à esquerda -->
    <div class="hamburger-menu" id="hamburgerMenu">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <!-- Logo centralizada -->
    <div class="top-panel-logo">
      <a href="index.html">
        <img src="images/diondefinitivobranco.png" alt="Dion Logo">
      </a>
    </div>

    <!-- Área direita com ícones -->
    <div class="top-panel-right">
      <!-- Ícone de Favoritos -->
      <a href="favoritos.php" class="icon-button" id="favoritesIcon" title="Favoritos">
        <i class="mdi mdi-heart"></i>
        <span class="icon-badge" id="favoritesBadge">0</span>
      </a>

      <!-- Ícone do Carrinho -->
      <a href="carrinho.html" class="icon-button" id="cartIcon" title="Carrinho">
        <i class="mdi mdi-shopping-cart"></i>
        <span class="icon-badge" id="cartBadge">0</span>
      </a>

      <!-- Avatar do usuário -->
      <div class="user-avatar" id="userProfileIcon">
        <span id="userInitials">U</span>
      </div>
    </div>

    <div class="user-dropdown" id="userDropdown">
      <div class="user-info">
        <div class="user-name" id="userName">Nome do Usuário</div>
        <div class="user-email" id="userEmail">email@exemplo.com</div>
        <div class="user-location">
          <span class="icon novi-icon mdi mdi-map-marker"></span>
          <span id="userLocation">Sarutaia, SP</span>
        </div>
      </div>

      <ul class="menu-options">
        <li>
          <a href="index.html">
            <span class="icon novi-icon mdi mdi-home"></span>
            Menu Principal
          </a>
        </li>
        <li>
          <a href="produtos.html">
            <span class="icon novi-icon mdi mdi-shopping"></span>
            Produtos
          </a>
        </li>
        <li>
          <a href="meus-dados.php" id="myDataLink">
            <span class="icon novi-icon mdi mdi-account"></span>
            Meus Dados
          </a>
        </li>
        <li>
          <a href="pedidos.html">
            <span class="icon novi-icon mdi mdi-package-variant"></span>
            Meus Pedidos
          </a>
        </li>
        <li>
          <a href="favoritos.php">
            <span class="icon novi-icon mdi mdi-heart"></span>
            Favoritos
          </a>
        </li>
      </ul>

      <button class="logout-btn" id="logoutBtn">Sair</button>
    </div>
  </div>

  <!-- Menu lateral -->
  <div class="menu-overlay" id="menuOverlay"></div>
  <div class="side-menu" id="sideMenu">
    <div class="side-menu-content">
      <h3>Menu</h3>
      <ul class="side-menu-nav">
        <li><a href="index.html" class="active">Início</a></li>
        <li><a href="about-us.html">Sobre Nós</a></li>
        <li><a href="produtos.html">Produtos</a></li>
        <li><a href="contacts.html">Contato</a></li>
        <li><a href="pedidos.html">Meus Pedidos</a></li>
        <li><a href="favoritos.php">Favoritos</a></li>
        <li><a href="carrinho.html">Carrinho</a></li>
      </ul>
    </div>
  </div>

  <div class="ie-panel"><a href="http://windows.microsoft.com/en-US/internet-explorer/"><img
        src="images/diondefinitivobranco.png" height="42" width="820"
        alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today."></a>
  </div>
  <div class="preloader">
    <div class="preloader-logo"><img src="images/diondefinitivobranco.png" alt="" width="151" height="44"
        srcset="images/dion definitivo branco.png" />
    </div>
    <div class="preloader-body">
      <div id="loadingProgressG">
        <div class="loadingProgressG" id="loadingProgressG_1"></div>
      </div>
    </div>
  </div>
  <div class="page">
    <div class="rd-navbar-wrap">
      <nav class="rd-navbar rd-navbar-corporate" data-layout="rd-navbar-fixed" data-sm-layout="rd-navbar-fixed"
        data-md-layout="rd-navbar-fixed" data-md-device-layout="rd-navbar-fixed" data-lg-layout="rd-navbar-static"
        data-lg-device-layout="rd-navbar-static" data-lg-stick-up="true" data-lg-stick-up-offset="118px"
        data-xl-layout="rd-navbar-static" data-xl-device-layout="rd-navbar-static" data-xl-stick-up="true"
        data-xl-stick-up-offset="118px" data-xxl-layout="rd-navbar-static" data-xxl-device-layout="rd-navbar-static"
        data-xxl-stick-up-offset="118px" data-xxl-stick-up="true">
        <div class="rd-navbar-main-outer">
          <div class="rd-navbar-main">
            <div class="rd-navbar-nav-wrap" id="rd-navbar-nav-wrap-1">
              <!-- RD Navbar Nav-->
              <ul class="rd-navbar-nav">
                <li class="rd-nav-item active"><a class="rd-nav-link" href="index.html">Menu</a>
                </li>            
                <li class="rd-nav-item"><a class="rd-nav-link" href="produtos.html">Produtos</a>
                </li>
                <li class="rd-nav-item"><a class="rd-nav-link" href="contacts.html">Contate-nos</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
    </div>
    </header>
    <section class="section swiper-container swiper-slider swiper-slider-minimal" data-loop="true"
      data-slide-effect="fade" data-autoplay="4759" data-simulate-touch="true">
      <div class="swiper-wrapper">
        <div class="swiper-slide swiper-slide_video" data-slide-bg="images/skate3.jpg">
          <div class="container">
            <div class="jumbotron-classic-content">
              <div class="wow-outer">
                <div
                  class="title-docor-text font-weight-bold title-decorated text-uppercase wow slideInLeft text-white">
                  SKATE X-PRO PINK 'T' - DZ-027</div>
              </div>
              <h1 class="text-uppercase text-white font-weight-bold wow-outer"><span class="wow slideInDown"
                  data-wow-delay=".4s">SKATES</span></h1>
              <p class="text-white wow-outer"><span class="wow slideInDown" data-wow-delay="">O Skate Traxart
                  Profissional é um skate indicado para quem quer fazer manobras mais avançadas. é feito de um mix entre
                  Maple Canadense (a melhor do mercado) e a China Maple prensada em 7 folhas, assim sendo bem resistente
                  mas mantendo a maleabilidade. </span></p>
              <div class="wow-outer button-outer"><a
                  class="button button-md button-primary button-winona wow slideInDown" href="#" data-wow-delay="">Ver
                  produtos</a></div>
            </div>
          </div>
        </div>
        <div class="swiper-slide" data-slide-bg="images/trucks1.png">
          <div class="container">
            <div class="jumbotron-classic-content">
              <div class="wow-outer">
                <div
                  class="title-docor-text font-weight-bold title-decorated text-uppercase wow slideInLeft text-white">
                  Truck Liga Skate Logo Tradicional 129 mm</div>
              </div>
              <h1 class="text-uppercase text-white font-weight-bold wow-outer"><span class="wow slideInDown"
                  data-wow-delay=".4s">Trucks</span></h1>
              <p class="text-white wow-outer"><span class="wow slideInDown" data-wow-delay=".35s">A Liga tem como seu
                  principal produto o truck. Possuí fábrica própria, está sempre ligada a novos materiais e com a
                  constante evolução do skate mundial. A proposta da marca é desenvolver os melhores trucks, para todas
                  as modalidades, com apoio incondicional ao skate. Para isso, apostamos no skate dando suporte ao
                  skatista, como ele merece, pois é quem faz tudo acontecer.</span></p>
              <div class="wow-outer button-outer"><a
                  class="button button-md button-primary button-winona wow slideInDown" href="produtos.html"
                  data-wow-delay=".2s">Ver produtos</a></div>
            </div>
          </div>
        </div>
        <div class="swiper-slide" data-slide-bg="images/skate4.png">
          <div class="container">
            <div class="jumbotron-classic-content">
              <div class="wow-outer">
                <div
                  class="title-docor-text font-weight-bold title-decorated text-uppercase wow slideInLeft text-white">
                  Shape de maplle profissional</div>
              </div>
              <h1 class="text-uppercase text-white font-weight-bold wow-outer"><span class="wow slideInDown"
                  data-wow-delay=".4s">Shapes</span></h1>
              <p class="text-white wow-outer"><span class="wow slideInDown" data-wow-delay=".35s">Tamanho do shape entre
                  20,3 cm e 20,6 cm: é indicado para os skatistas que andam em minirampas e pistas; Tamanho do shape
                  maior que 20,6 cm: é indicado para os skatistas que andam em half pipes (estruturas em forma de U) e
                  bowls (pistas em forma de bacia).</span></p>
              <div class="wow-outer button-outer"><a
                  class="button button-md button-primary button-winona wow slideInDown" href="produtos.html"
                  data-wow-delay=".2s">Ver produtos</a></div>
            </div>
          </div>
        </div>
      </div>
      <div class="swiper-pagination-outer container">
        <div class="swiper-pagination swiper-pagination-modern swiper-pagination-marked" data-index-bullet="true"></div>
      </div>
    </section>
    <section class="section novi-background section-md text-center">
      <div class="container">
        <h3 class="text-uppercase font-weight-bold wow-outer"><span class="wow slideInDown">Produtos Populares</span>
        </h3>
        <div class="row row-lg-50 row-35 offset-top-2">
          <div class="col-md-6 wow-outer">
            <!-- Post Modern-->
            <article class="post-modern wow slideInLeft">
              <a class="post-modern-media" href="produtos.html" onclick="redirectToProductPage()">
                <img src="images/dioncamisabrasil.png" alt="Camisa Dion Brasil" width="571" height="353" />
              </a>
              <h4 class="post-modern-title"><a class="post-modern-title" href="produtos.html">Camisa Dion Brasil</a>
              </h4>
              <ul class="post-modern-meta">
                <li><a class="button-winona" href="produtos.html">$199,00</a></li>
                <li>30 Unidades</li>
                <li>99 vendidos</li>
              </ul>
              <p>O Futebol envolvido na arte do Skate</p>
            </article>
          </div>
          <div class="col-md-6 wow-outer">
            <!-- Post Modern-->
            <article class="post-modern wow slideInLeft"><a class="post-modern-media" href="produtos.html"><img
                  src="images/camisamarromDion.png" alt="" width="571" height="353" /></a>
              <h4 class="post-modern-title"><a class="post-modern-title" href="produtos.html">Camisa Dion Marrom</a></h4>
              <ul class="post-modern-meta">
                <li><a class="button-winona" href="produtos.html">$1300.00</a></li>
                <li>29 Vendidos</li>
                <li>199 Em Estoque</li>
              </ul>
              <p>o Drip de uma forma básica para te vestir</p>
            </article>
          </div>
          <div class="col-md-6 wow-outer">
            <!-- Post Modern-->
            <article class="post-modern wow slideInLeft"><a class="post-modern-media" href="produtos.html"><img
                  src="images/shapes.png" alt="" width="571" height="353" /></a>
              <h4 class="post-modern-title"><a class="post-modern-title" href="produtos.html">Shapes de Maplle
                  Personalizados
                  8.25ml</a></h4>
              <ul class="post-modern-meta">
                <li><a class="button-winona" href="produtos.html">$450.00</a></li>
                <li>50 Vendidos</li>
                <li>100 Em Estoque</li>
              </ul>
              <p>Ande de skate com mais confiança com o nosso shape de maplle personalizado</p>
            </article>
          </div>
          <div class="col-md-6 wow-outer">
            <!-- Post Modern-->
            <article class="post-modern wow slideInLeft"><a class="post-modern-media" href="produtos.html"><img
                  src="images/trucksbom.png" alt="" width="571" height="353" /></a>
              <h4 class="post-modern-title"><a class="post-modern-title" href="produtos.html">Trucks da Read Dragon com
                  rolamento</a></h4>
              <ul class="post-modern-meta">
                <li><a class="button-winona" href="produtos.html">$700.00</a></li>
                <li>90 Vendidos</li>
                <li>35 Em Estoqque</li>
              </ul>
              <p>A Luxura da Read Dragon para poder se locomover mais facil</p>
            </article>
          </div>
          <div class="col-md-12 wow-outer"><a class="button button-primary button-winona button-md" href="#">Ver mais
              produtos</a>
          </div>
        </div>
      </div>
    </section>
    <!-- Best offer-->
    <section class="section novi-background section-1 bg-primary-darker text-center"
      style="background-image: url(images/ofertas.png);">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-sm-10 col-lg-7 col-xl-6">
            <h3 class="wow-outer"><span class="wow slideInDown text-uppercase">Melhores ofertas</span></h3>
            <p class="heading-subtitle">De setembro</p>
            <p class="wow-outer offset-top-4"><span class="wow slideInDown" data-wow-delay=".05s">Aqui iremos mostrar
                nossas
                variedades em roupa tanto nos skates etc..</span></p>
            <div class="wow-outer button-outer"><a class="button button-primary-white button-winona wow slideInDown"
                href="produtos.html" data-wow-delay=".1s">Ver mais</a></div>
          </div>
        </div>
      </div>
    </section>
    <footer class="section novi-background footer-advanced bg-gray-700">
      <div class="footer-advanced-main">
        <div class="container">
          <div class="row row-50">
            <div class="col-lg-4">
              <h5 class="font-weight-bold text-uppercase text-white">Sobre nós</h5>
              <p class="footer-advanced-text">Dion é uma loja que esta se estruturando agora, mais veio para trazer a
                arte
                do Street e da nossa moda, Dion promete ter a sua confiança para poder te trazer satisfação, uma loja
                que
                quer evoluir e mostrar para o mundo oque realmente é o stilo de rua em seu corpo.</p>
            </div>
            <div class="col-sm-7 col-md-5 col-lg-4">
              <h5 class="font-weight-bold text-uppercase text-white">siga agente nas redes sociais</h5>
              <!-- Post Inline-->
              <article class="post-inline">
                <p class="post-inline-title"><a href="#">luismiguel_ns, pedrohenriquezzs, Guizhwxy_, patrickgarrote
                  </a></p>
                <ul class="post-inline-meta">
                  <li>Dion</li>
                  <li><a href="#">2 dias atrás</a></li>
                </ul>
              </article>

            </div>
            <div class="col-sm-5 col-md-7 col-lg-4">
              <h5 class="font-weight-bold text-uppercase text-white">Galeria</h5>
              <div class="row row-x-10" data-lightgallery="group">
                <div class="col-3 col-sm-4 col-md-3"><a class="thumbnail-minimal" href="images/shapes.png"
                    data-lightgallery="item"><img class="thumbnail-minimal-image" src="images/shapes.png" alt="" />
                    <div class="thumbnail-minimal-caption"></div>
                  </a></div>
                <div class="col-3 col-sm-4 col-md-3"><a class="thumbnail-minimal" href="images/trucks1.png"
                    data-lightgallery="item"><img class="thumbnail-minimal-image" src="images/trucks1.png" alt="" />
                    <div class="thumbnail-minimal-caption"></div>
                  </a></div>
                <div class="col-3 col-sm-4 col-md-3"><a class="thumbnail-minimal" href="images/skate.jpg"
                    data-lightgallery="item"><img class="thumbnail-minimal-image" src="images/skate.jpg" alt="" />
                    <div class="thumbnail-minimal-caption"></div>
                  </a></div>
                <div class="col-3 col-sm-4 col-md-3"><a class="thumbnail-minimal" href="images/dioncamisabrasil.png"
                    data-lightgallery="item"><img class="thumbnail-minimal-image" src="images/dioncamisabrasil.png"
                      alt="" />
                    <div class="thumbnail-minimal-caption"></div>
                  </a></div>
                <div class="col-3 col-sm-4 col-md-3"><a class="thumbnail-minimal" href="images/camisamarromDion.png"
                    data-lightgallery="item"><img class="thumbnail-minimal-image" src="images/camisamarromDion.png"
                      alt="" />
                    <div class="thumbnail-minimal-caption"></div>
                  </a></div>
                <div class="col-3 col-sm-4 col-md-3"><a class="thumbnail-minimal" href="images/shape de maplle.jpg"
                    data-lightgallery="item"><img class="thumbnail-minimal-image" src="images/shape de maplle.jpg"
                      alt="" />
                    <div class="thumbnail-minimal-caption"> </div>
                  </a></div>
                <div class="col-3 col-sm-4 col-md-3"><a class="thumbnail-minimal" href="images/skate tenis.png"
                    data-lightgallery="item"><img class="thumbnail-minimal-image" src="images/skate tenis.png" alt="" />
                    <div class="thumbnail-minimal-caption"></div>
                  </a></div>
                <div class="col-3 col-sm-4 col-md-3"><a class="thumbnail-minimal" href="images/skate3.jpg"
                    data-lightgallery="item"><img class="thumbnail-minimal-image" src="images/skate3.jpg" alt="" />
                    <div class="thumbnail-minimal-caption"></div>
                  </a></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-advanced-aside">
        <div class="container">
          <div class="footer-advanced-layout">
            <div>
              <ul class="list-nav">
                <li><a href="index.html">menu</a></li>
                <li><a href="about-us.html">sobre</a></li>
                <li><a href="produtos.html">produtos</a></li>
                <li><a href="contacts.html">contatos</a></li>
              </ul>
            </div>
            <div>
              <ul class="foter-social-links list-inline list-inline-md">
                <li><a class="icon novi-icon icon-sm link-default mdi mdi-facebook" href="#"></a></li>
                <li><a class="icon novi-icon icon-sm link-default mdi mdi-twitter" href="#"></a></li>
                <li><a class="icon novi-icon icon-sm link-default mdi mdi-instagram" href="#"></a></li>
                <li><a class="icon novi-icon icon-sm link-default mdi mdi-google" href="#"></a></li>
                <li><a class="icon novi-icon icon-sm link-default mdi mdi-linkedin" href="#"></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="container">
        <hr />
      </div>
      <div class="footer-advanced-aside">
        <div class="container">
          <div class="footer-advanced-layout"><a class="brand" href="index.html"><img
                src="images/diondefinitivobranco.png" alt="" width="115" height="34"
                srcset="images/diondefinitivobranco.png" /></a>
            <!-- Rights-->
            <p class="rights"><span>&copy;&nbsp;</span><span class="copyright-year"></span>. Todos os direitos
              reservados

              <script>
                document.addEventListener('DOMContentLoaded', function () {
                  // Elementos do menu hambúrguer
                  const hamburgerMenu = document.getElementById('hamburgerMenu');
                  const sideMenu = document.getElementById('sideMenu');
                  const menuOverlay = document.getElementById('menuOverlay');
                });
                // Elementos do dropdown do usuário
                const userProfileIcon = document.getElementById('userProfileIcon');
                const userDropdown = document.getElementById('userDropdown');
                const userInitials = document.getElementById('userInitials');
                const userName = document.getElementById('userName');
                const userEmail = document.getElementById('userEmail');
                const userLocation = document.getElementById('userLocation');
                const logoutBtn = document.getElementById('logoutBtn');
                const myDataLink = document.getElementById('myDataLink');

                // Função para abrir/fechar menu lateral
                function toggleSideMenu() {
                  hamburgerMenu.classList.toggle('active');
                  sideMenu.classList.toggle('active');
                  menuOverlay.classList.toggle('active');

                  // Previne scroll do body quando menu está aberto
                  if (sideMenu.classList.contains('active')) {
                    document.body.style.overflow = 'hidden';
                  } else {
                    document.body.style.overflow = '';
                  }
                }

                // Função para fechar menu lateral
                function closeSideMenu() {
                  hamburgerMenu.classList.remove('active');
                  sideMenu.classList.remove('active');
                  menuOverlay.classList.remove('active');
                  document.body.style.overflow = '';
                }

                // Event listeners para menu hambúrguer
                hamburgerMenu.addEventListener('click', toggleSideMenu);
                menuOverlay.addEventListener('click', closeSideMenu);

                // Fechar menu ao clicar em um link
                const sideMenuLinks = sideMenu.querySelectorAll('a');
                sideMenuLinks.forEach(link => {
                  link.addEventListener('click', closeSideMenu);
                });

                // Funções do dropdown do usuário
                function checkUserLogin() {
                  // Simulando dados do usuário - substituir pela lógica real
                  const userData = {
                    nome: 'João Silva',
                    email: 'joao@exemplo.com',
                    cidade: 'Sarutaia',
                    estado: 'SP'
                  };

                  if (userData) {
                    showUserProfile(userData);
                  } else {
                    userProfileIcon.style.display = 'none';
                  }
                }
                document.addEventListener('DOMContentLoaded', function () {
                  const userProfileIcon = document.getElementById('userProfileIcon');
                  const userDropdown = document.getElementById('userDropdown');
                  const userInitials = document.getElementById('userInitials');
                  const userName = document.getElementById('userName');
                  const userEmail = document.getElementById('userEmail');
                  const userLocation = document.getElementById('userLocation');
                  const logoutBtn = document.getElementById('logoutBtn');
                  const myDataLink = document.getElementById('myDataLink');

                  function checkUserLogin() {
                    const userData = JSON.parse(localStorage.getItem('userData'));
                    if (userData) {
                      showUserProfile(userData);
                    } else {
                      userProfileIcon.style.display = 'none';
                    }
                  }

                  function showUserProfile(userData) {
                    userProfileIcon.style.display = 'block';
                    const nameParts = userData.nome.trim().split(' ');
                    userInitials.textContent = nameParts.length > 1
                      ? nameParts[0][0] + nameParts[nameParts.length - 1][0]
                      : userData.nome[0];
                    userName.textContent = userData.nome || 'Usuário';
                    userEmail.textContent = userData.email || 'email@exemplo.com';
                    userLocation.textContent = userData.cidade && userData.estado
                      ? `${userData.cidade}, ${userData.estado}`
                      : 'Cidade, Estado';
                  }

                  function toggleUserDropdown() {
                    userDropdown.classList.toggle('active');
                  }

                  function logout() {
                    localStorage.removeItem('userData');
                    window.location.href = 'login.php';
                  }

                  userProfileIcon?.addEventListener('click', function (e) {
                    e.stopPropagation();
                    toggleUserDropdown();
                  });

                  document.addEventListener('click', function (event) {
                    if (userDropdown.classList.contains('active') && !userProfileIcon.contains(event.target)) {
                      userDropdown.classList.remove('active');
                    }
                  });

                  myDataLink?.addEventListener('click', function (e) {
                    e.preventDefault();
                    const userData = JSON.parse(localStorage.getItem('userData'));
                    if (userData) {
                      window.location.href = 'meus-dados.html';
                    } else {
                      alert('Você precisa estar logado para acessar seus dados.');
                      window.location.href = 'login.php';
                    }
                  });

                  logoutBtn?.addEventListener('click', logout);
                  checkUserLogin();
                });
                if (data.sucesso) {
                    // Atualizar botão
                    button.classList.add('favorited');
                    button.querySelector('i').classList.remove('mdi-heart-outline');
                    button.querySelector('i').classList.add('mdi-heart');
                    
                    // Atualizar contador de favoritos
                    const badge = document.getElementById('favoritesBadge');
                    if (badge) {
                        const count = parseInt(badge.textContent) + 1;
                        badge.textContent = count;
                    }
                  };
                document.addEventListener('DOMContentLoaded', function () {
                  const myDataLink = document.getElementById('myDataLink');

                  if (myDataLink) {
                    myDataLink.addEventListener('click', function (e) {
                      e.preventDefault();
                      const userData = JSON.parse(localStorage.getItem('userData'));
                      if (userData) {
                        window.location.href = 'meus-dados.html';
                      } else {
                        alert('Você precisa estar logado para acessar seus dados.');
                        window.location.href = 'login.php';
                      }
                    });
                  } else {
                    console.warn("❌ Elemento #myDataLink não encontrado no DOM.");
                  }
                });

                document.addEventListener('DOMContentLoaded', function () {
                  const userData = JSON.parse(localStorage.getItem('userData'));
                  const userProfileIcon = document.getElementById('userProfileIcon');
                  const userInitials = document.getElementById('userInitials');
                  const userName = document.getElementById('userName');
                  const userEmail = document.getElementById('userEmail');
                  const userLocation = document.getElementById('userLocation');

                  if (userData) {
                    // Mostra o ícone de perfil
                    if (userProfileIcon) userProfileIcon.style.display = 'block';

                    // Preenche as iniciais
                    if (userInitials && userData.nome) {
                      const nameParts = userData.nome.trim().split(' ');
                      userInitials.textContent = nameParts.length > 1
                        ? nameParts[0][0] + nameParts[nameParts.length - 1][0]
                        : userData.nome[0];
                    }

                    // Preenche os dados do perfil
                    if (userName) userName.textContent = userData.nome || 'Usuário';
                    if (userEmail) userEmail.textContent = userData.email || 'email@exemplo.com';
                    if (userLocation && userData.cidade && userData.estado) {
                      userLocation.textContent = `${userData.cidade}, ${userData.estado}`;
                    }
                    
                  } else {
                    console.warn("❌ userData não encontrado no localStorage.");
                    if (userProfileIcon) userProfileIcon.style.display = 'none';
                  }
                  
                });
                
                // Atualizar contador de favoritos no header
                function updateFavoritesBadge() {
                  let count = 0;
                  // Tenta buscar do localStorage (ajuste conforme seu sistema de favoritos)
                  try {
                    const favoritos = JSON.parse(localStorage.getItem('favoritos_usuario'));
                    if (Array.isArray(favoritos)) {
                      count = favoritos.length;
                    }
                  } catch (e) {}
                  // Se usar backend, pode fazer uma requisição AJAX aqui para buscar o total
                  // Exemplo:
                  // fetch('backend/favoritos_api.php', { method: 'POST', body: JSON.stringify({ acao: 'contar' }) })
                  //   .then(r => r.json()).then(data => { if (data.sucesso) count = data.total; ... })
                  var badge = document.getElementById('favoritesBadge');
                  if (badge) badge.textContent = count;
                }
                updateFavoritesBadge();
              </script>
          </div>
        </div>
      </div>
    </footer>
  </div>
  <div class="snackbars" id="form-output-global"></div>

  <script src="js/core.min.js"></script>
  <script src="js/script.js" defer></script>
  <script src="js/favoritos.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', async function () {
      // Aguarda FavoritosManager estar disponível
      function waitForFavoritosManager(cb) {
        if (window.favoritos && typeof window.favoritos.contar === 'function') {
          cb();
        } else {
          setTimeout(() => waitForFavoritosManager(cb), 200);
        }
      }
      waitForFavoritosManager(async function() {
        let count = 0;
        try {
          const userData = JSON.parse(localStorage.getItem('userData') || '{}');
          if (userData && userData.id) {
            const result = await window.favoritos.contar(userData.id);
            if (result && result.sucesso && typeof result.total === 'number') {
              count = result.total;
            }
          }
        } catch (e) {}
        var badge = document.getElementById('favoritesBadge');
        if (badge) badge.textContent = count;
      });
    });
  </script>


</body>

</html>